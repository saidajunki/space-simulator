# 空間的クラスタ形成条件の検証

## 日時
2024年12月31日（火）

## 概要

空間的クラスタ（H1）の形成条件を特定するため、エッジ密度とノード数を変えてシミュレーションを実行し、クラスタリング係数を比較した。

## 検証条件

| パラメータ | 値 |
|-----------|-----|
| シミュレーション時間 | 5,000 tick |
| 初期人口 | 50体 |
| 資源再生率 | 0.018 |
| スキルボーナス | ON（係数1.0） |
| seed | 42, 123, 456（各3回） |

### 変動パラメータ
- エッジ密度: 0.1, 0.2, 0.3, 0.5, 0.7
- ノード数: 15, 30, 50

## 検証結果

### エッジ密度の影響（ノード数30固定）

| エッジ密度 | 人口 | 最大クラスタ | クラスタ係数 | 占有率 | 平均/ノード |
|------------|------|--------------|--------------|--------|-------------|
| 0.1 | 24.0 | 3.7 | 0.168 | 51.1% | 1.55 |
| 0.2 | 15.7 | 2.0 | 0.149 | 35.6% | 1.49 |
| 0.3 | 19.0 | 3.7 | 0.192 | 36.7% | 1.73 |
| 0.5 | 22.3 | 3.3 | 0.178 | 42.2% | 1.72 |
| 0.7 | 8.3 | 3.3 | **0.406** | 18.9% | 1.44 |

### ノード数の影響（エッジ密度0.3固定）

| ノード数 | 人口 | 最大クラスタ | クラスタ係数 | 占有率 | 平均/ノード |
|----------|------|--------------|--------------|--------|-------------|
| 15 | 5.3 | 2.0 | 0.255 | 22.2% | 1.03 |
| 30 | 19.0 | 3.7 | 0.192 | 36.7% | 1.73 |
| 50 | 18.3 | 3.0 | 0.179 | 25.3% | 1.43 |

### 重要な発見

1. **高エッジ密度でクラスタ係数が高い**: エッジ密度0.7でクラスタリング係数0.406（>0.3）を達成。ただし人口は8.3と少ない。

2. **トレードオフの存在**: クラスタリング係数と人口にトレードオフがある。高クラスタ係数（0.406）は低人口（8.3）と対応。

3. **小ノード数でクラスタ係数が高い**: ノード数15でクラスタリング係数0.255。空間が狭いほどクラスタが形成されやすい。

4. **占有率との関係**: 占有率が低い（18.9%）ほどクラスタリング係数が高い。エンティティが少数のノードに集中している。

## 現世界との照合

### 1. 移動コストとクラスタ形成

エッジ密度が高い（移動しやすい）環境でクラスタリング係数が高い。これは直感に反するが、以下の解釈が可能:

- 移動しやすい環境では、良いノード（資源が豊富）に集まりやすい
- 移動しにくい環境では、分散したまま留まる

**現世界との対応**: 交通インフラが発達した地域での都市集中

### 2. 人口とクラスタのトレードオフ

高クラスタ係数（0.406）は低人口（8.3）と対応。これは:

- 少数のエンティティが特定のノードに集中
- 人口が多いと分散せざるを得ない

**現世界との対応**: 過疎地域での集落集中、都市部での分散

### 3. 空間の狭さとクラスタ

ノード数が少ない（空間が狭い）ほどクラスタが形成されやすい。

**現世界との対応**: 島嶼部での集落形成、限られた土地での都市化

## 考察・気づき

### 1. クラスタ形成の条件

クラスタリング係数>0.3を達成するには:
- 高エッジ密度（0.7）または
- 小ノード数（15）

ただし、どちらも人口が少なくなる傾向がある。

### 2. 「文明」の定義の再考

現在の文明スコアでは「クラスタリング係数>0.3」を基準としているが、これは人口とトレードオフがある。より適切な基準を検討する必要がある。

### 3. 新仮説: クラスタ形成には「資源の偏り」が必要

現在のシミュレーションでは資源が均一に分布している。資源が偏っていれば、豊富なノードにエンティティが集中し、クラスタが形成されやすくなる可能性。

## 仮説の更新

### H1: 部分的に支持

空間的クラスタは形成されるが、条件が限定的（高エッジ密度または小ノード数）。人口とのトレードオフがある。

### 新仮説H34: クラスタ形成には「資源の偏り」が必要

均一な資源分布ではクラスタが形成されにくい。資源が偏っていれば、豊富なノードにエンティティが集中する。

### 新仮説H35: クラスタリング係数と人口にはトレードオフがある

高クラスタ係数は低人口と対応。両方を高くするには追加の条件が必要。

## 今後の観察ポイント

1. **資源分布の偏り**: 資源が偏った環境でのクラスタ形成
2. **文明スコアの再定義**: クラスタリング係数以外の指標を検討
3. **長期シミュレーション**: 時間経過でクラスタが形成されるか

## 結論

**空間的クラスタ形成の条件を部分的に特定。**

- 高エッジ密度（0.7）でクラスタリング係数0.406を達成
- ただし人口とのトレードオフがある（高クラスタ係数 = 低人口）
- 資源分布の偏りがクラスタ形成に必要かもしれない（H34）
