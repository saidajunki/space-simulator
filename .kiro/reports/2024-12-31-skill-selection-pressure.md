# スキル選択圧の検証レポート

## 日時
2024年12月31日（火）

## 概要
H21-H23を検証するため、厳しい環境（低資源再生率）でスキルの選択圧が発生するか検証した。

## 検証条件
- 初期人口: 50体
- ノード数: 20
- スキルボーナス係数: 1.0（強め）
- シミュレーション期間: 10,000 tick
- 資源再生率: 0.010, 0.012, 0.014, 0.016
- seed: 42, 123, 456, 789, 1000

## 検証結果

### 資源再生率別の結果

| regenRate | 平均最終人口 | 平均死亡数 | 平均スキル差分 | 平均選択係数 |
|-----------|-------------|-----------|---------------|-------------|
| 0.010 | 0.0 | 322.4 | -0.417 | -1.307 |
| 0.012 | 4.6 | 529.4 | -0.259 | -0.830 |
| 0.014 | 3.8 | 646.8 | -0.219 | -0.704 |
| 0.016 | 11.6 | 827.8 | -0.081 | -0.259 |

### 生存者がいるケースの詳細

| seed | regenRate | 生存者数 | 生存者Harvest平均 | 死亡者Harvest平均 | 選択係数 |
|------|-----------|---------|------------------|------------------|---------|
| 123 | 0.012 | 12 | 0.424 | 0.507 | -0.267 |
| 456 | 0.012 | 11 | 0.488 | 0.452 | **+0.116** |
| 42 | 0.014 | 11 | 0.485 | 0.487 | -0.006 |
| 456 | 0.014 | 8 | 0.636 | 0.449 | **+0.572** |
| 42 | 0.016 | 14 | 0.548 | 0.451 | **+0.325** |
| 123 | 0.016 | 17 | 0.397 | 0.446 | -0.150 |
| 456 | 0.016 | 14 | 0.499 | 0.471 | +0.091 |
| 1000 | 0.016 | 13 | 0.303 | 0.484 | -0.608 |

### 観察された傾向

1. **厳しい環境（regenRate ≤ 0.010）では全員絶滅**
   - 選択圧が働く前に全員が死亡
   - スキルの差が生存に影響する余地がない

2. **中間的な環境（regenRate 0.012-0.016）では一部で正の選択圧**
   - seed 456では一貫して正の選択係数（+0.116, +0.572, +0.091）
   - 生存者のHarvestスキルが死亡者より高い傾向

3. **しかし、結果はseedに大きく依存**
   - 同じregenRateでも、seedによって選択係数が正負に分かれる
   - 遺伝的浮動の影響が大きい

## 考察

### H21-H23の検証結果

**H21: スキルボーナスが生存に与える影響が小さすぎる**
- 部分的に支持
- 一部のケースで正の選択圧が観察されたが、効果は弱い

**H22: スキルボーナスは「行動効率」を上げるだけで、「生存確率」に直接影響しない**
- 部分的に棄却
- 正の選択圧が観察されたケースでは、Harvestスキルが生存に影響している

**H23: スキルが低くても他の要因で補えるため、選択圧が弱い**
- 支持
- 選択圧は観察されるが、他の要因（位置、運）の影響が大きい

### 新しい仮説

**H24: 選択圧は存在するが、遺伝的浮動に埋もれている**
- 正の選択係数が観察されるケースがある
- しかし、小集団では遺伝的浮動の影響が大きく、選択圧が検出しにくい

**H25: 「ちょうど良い厳しさ」の環境で選択圧が最大化する**
- 厳しすぎると全員絶滅
- 緩すぎると選択圧が弱い
- 中間的な環境（regenRate 0.012-0.016）で選択圧が観察される

## 現世界との照合

- **中立進化理論**: 木村資生の中立進化理論と一致。小集団では遺伝的浮動が選択を上回る
- **適応放散**: 厳しすぎる環境では適応の余地がなく、絶滅する
- **最適環境仮説**: 中間的な環境で多様性と選択圧のバランスが取れる

## 結論

1. **選択圧は存在する**が、効果は弱く、遺伝的浮動に埋もれやすい
2. **環境の厳しさ**が選択圧の強さに影響する
3. **人口サイズ**が選択圧の検出に重要（小集団では浮動が支配的）

## 今後の観察ポイント

1. **人口を増やして検証**: 100体以上で遺伝的浮動の影響を減らす（H20検証）
2. **長期シミュレーション**: 50,000 tick以上で選択圧の累積効果を観察
3. **複数スキルの相関**: Harvestだけでなく、他のスキルとの相関を分析
