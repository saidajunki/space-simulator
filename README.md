# Universe Simulation

最小公理アプローチによる宇宙シミュレーション。

## 概要

恣意的な設計を避け、最小限の物理的制約のみを公理として設定し、そこから何が創発するかを観測するプロジェクト。

「人間」「地球」「言語」「インターネット」などの具体的概念は設計せず、エンティティの相互作用から自然に発生することを期待する。

## 設計思想

1. **非恣意性**: 特定の成果を誘導しない。公理追加は物理的必然のみ
2. **局所性**: 知覚は近傍のみ、通信・移動には遅延がある
3. **有限性**: エネルギー、資源、記憶は全て有限。維持コストと劣化あり
4. **偶然**: 乱数による経路依存。歴史は必然ではない
5. **観測のみ**: メトリクスはログであり、目的関数ではない

## 現在の公理（21個）

1. 空間（Graph World）
2. 時間（離散ステップ）
3. エネルギー保存則
4. 距離コストと遅延
5. 局所性と知覚制限
6. エントロピーと劣化
7. 有限性と希少性
8. エンティティの基本構造
9. エンティティの行動
10. 相互作用
11. 複製と継承（遺伝的アルゴリズム）
12. アーティファクト（環境への刻印）
13. ノイズと偶然
14. 観測と記録
15. シミュレーション制御
16. ガードレール介入
17. 資源採取（harvest）
18. 外部エネルギー入力（resource regeneration）
19. **物質の多様性（material diversity）** - エンティティはタイプを持つ
20. **質量（mass）** - 移動コストに影響
21. **化学反応（reaction）** - タイプの組み合わせで変換が起きる

## 現状の結果

### 持続可能なシミュレーション達成

| Seed | Ticks | 最終人口 | 平均年齢 | Artifact数 |
|------|-------|----------|----------|------------|
| 1    | 2000  | 18       | 892.8    | 83         |
| 42   | 5000  | 14       | 1577.8   | 189        |
| 123  | 2000  | 11       | 1016.3   | 70         |
| 999  | 2000  | 13       | 974.2    | 59         |
| 2024 | 2000  | 9        | 1009.3   | 32         |

### 確立された結論

1. **外部エネルギー入力なしに持続可能な系は存在しない** - 熱力学第二法則
2. **人口は資源制約により自然に安定化する** - 環境収容力の創発
3. **個体は消滅しても情報（Artifact）は蓄積する** - 文明の萌芽
4. **同一条件でも初期乱数により結果は大きく異なる** - 経路依存性

詳細は [.kiro/reports/CONCLUSIONS.md](.kiro/reports/CONCLUSIONS.md) を参照。

## 使い方

```bash
# ビルド
npm run build

# シミュレーション実行
node dist/cli.js run --seed 42 --max-ticks 1000 --nodes 30 --entities 50

# バッチ実行（複数seed）
node dist/cli.js batch --seeds 1,2,3,4,5 --max-ticks 1000
```

### オプション

| オプション | 説明 | デフォルト |
|-----------|------|-----------|
| `--seed` | 乱数seed | 12345 |
| `--max-ticks` | 最大tick数 | 10000 |
| `--nodes` | ノード数 | 100 |
| `--entities` | 初期エンティティ数 | 50 |
| `--max-types` | 最大タイプ数（物質の多様性） | 10 |
| `--log-freq` | ログ出力頻度 | 100 |

## ディレクトリ構成

```
.
├── src/
│   ├── core/           # シミュレーションカーネル
│   │   ├── universe.ts # メインループ
│   │   ├── entity.ts   # エンティティ
│   │   ├── space.ts    # 空間（グラフ）
│   │   └── ...
│   └── cli.ts          # CLIインターフェース
├── .kiro/
│   ├── specs/          # 設計ドキュメント
│   ├── reports/        # 検証レポート・結論
│   │   ├── CONCLUSIONS.md  # 結論集（蓄積）
│   │   └── *.md            # 個別レポート
│   └── steering/       # プロジェクトルール
└── README.md
```

## 今後の方向性

- 長期シミュレーション（10万tick以上）での挙動観察
- 空間的クラスタ（「都市」）の創発検証
- 遺伝的多様性の時間変化分析
- 「言語」「協力」の創発可能性探索

## ライセンス

MIT
